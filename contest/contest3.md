# NOIP模拟赛三

[TOC]

# 经典回顾

#### 题意

我们肯定都做过这样一个经典问题

给你一个n*m的迷宫，每个格子要么是空的要么有障碍，你在(0,0)位置，要去(n-1,m-1)位置,每次可以走到相邻的一个空位上，走到终点最少需要走几步



现在让我们来做这个问题的逆问题

构造一个n*m的迷宫，使得(0,0)到(n-1,m-1)的最短路为K

$1 \le n \le 50$

$1 \le m \le 50$

起点与终点必须为空地



#### 输入格式

输入一个整数$K$ ($2 \le K \le 1000
$)



#### 输出格式

输出$n$行，每行一个长度为$m$的字符串

$n,m$的大小要求见题意描述



#### 样例输入１

```
3
```



#### 样例输出１

```
....
```



#### 样例输入2

```
4
```



#### 样例输出2

```
...
...
...
```



#### 样例输入3

```
10
```



#### 样例输入4

```
..#..
#.#..
..#..
.#...
.....
```



#### 数据范围

| 子任务点 | $Ｋ$       | 分值 |
| :------- | ---------- | ---- |
| $1$      | $ \le 100$ | 10   |
| $2$      | $\le200$   | 10   |
| $3$      | $\le300$   | 10   |
| $4$      | $\le400$   | 10   |
| $5$      | $\le500$   | 10   |
| $6$      | $\le600$   | 10   |
| $7$      | $\le700$   | 10   |
| $8$      | $\le800$   | 10   |
| $9$      | $\le900$   | 10   |
| $10$     | $\le1000$  | 10   |

## 乾坤大挪移

####题意

在倚天屠龙记中，张无忌在明教光明顶无意中学得明教前教主阳顶天的乾坤大挪移心法,之后又在六大门派围攻光明顶的过程中孤身一人对抗各大门派，并多次使用乾坤大挪移转移通过挪穴移位来转移身上受到的暴击，成功的化解了一场江湖恩怨

当xtx看到这一段的时候莫名的鸡冻,心中升起了一股武侠的豪情

他脑洞大开：我能否在树上使用乾坤大挪移呢？

假如有$m$棵无向的树，表示为T(0)->T(m-1), 每棵树都有相同的点数,现在需要在每棵树上各选择一条边,第i棵树上选择($u_i-v_i$),  然后将所有的这些边删除,再将($u_i-v_i$)这条边加到T($(i+1)\%m$)的($u_i-v_i$)节点

问你有多少种选择边的方法可以使得删边加边之后所有的树仍然还是树

输出方案数对$1e9+7$取模

xtx为了展现乾坤大挪移的厉害，决定让大家自己生成数据，树的生成方法如下

给你两个整数$n,m$

再给你四个长度为 $m$的数组$roots,a,b,c$
第$\ \ i\ \ $棵树的生成方式如下

```cpp
X[0] = c[i]
for k = 1 to n-2:
	X[k] = (a[i] * X[k - 1] + b[i]) modulo 1,000,000,007

for j = 0 to n-2:
	u[j] = (roots[i] + j + 1) modulo n
	v[j] = (roots[i] + (X[j] modulo (j + 1))) modulo n
	add the edge between u[j] and v[j] to the tree T(i)
```



#### 输入格式

第一行输入两个整数$n,m$($2 \le n,m \le 50$) 

接下来四行每行m个整数依次表示$roots ,a,b,c$数组

$0 \le roots[i] \le n - 1$

$1 \le a[i] \le 1000,000,006$

$0 \le b[i],c[i] \le 1000,000,006 $



#### 输出格式

输出一个整数



#### 样例输入1

```
3 2
0 2
1 2
1 0
3 5
```



#### 样例输出1

```
2
```



#### 样例输入2

```
3 3
0 0 1
6 1 3
6 5 5
2 5 9
```



#### 样例输出2

```
2
```



#### 样例输入3

```
5 5
0 1 1 1 2
7 4 7 9 2
8 3 9 5 3
6 0 1 5 9
```



#### 样例输出3

```
22
```



#### 数据范围



| 子任务 | $n,m$       | 分值 |
| ------ | ----------- | ---- |
| 1      | $n=2$       | 10   |
| 2      | $m=2$       | 10   |
| 3      | $n,m\le 10$ | 30   |
| 4      | 无限制      | 50   |
|        |             |      |



## 点灯

时限4s

#### 题意

前几天我们曾经做过一个灯与开关有关的题目

有N个相同的开关，每个开关都与某些开关有着联系，每当你打开或者关闭某个开关的时候，其他的与此开关相关联的开关也会相应地发生变化，即这些相联系的开关的状态如果原来为开就变为关，如果为关就变为开。你的目标是经过若干次开关操作后使得最后N个开关达到一个特定的状态。对于任意一个开关，最多只能进行一次开关操作。你的任务是，计算有多少种可以达到指定状态的方法。（不计开关操作的顺序）

这是一个某算法的入门题，yzyyylx决定对其进行改编

有$m$盏灯，编号为$0$到$m-1$,告诉你一开始每盏灯的开关状态

有$n$个开关，编号为$0$到$n-1$,告诉你每个开关连接着哪些灯

触动一个开关会将连接着的灯的状态取反.

你可能意识到了同一个开关被触动两次是没有意义的，而且触动开关的顺序也不影响最终灯的状态,意味着一共有$2^n$种触动开关的方法

现在yzyyylx想让最终亮着的灯尽可能多

还想知道达到最多的灯的状态的方案数



#### 输入格式

第一行输入两个整数$n,m$($1 \le n,m \le 50 $) 

第二行输入一个字符串包含$m$个字符每个字符是'0'或者'1', 表示灯的初始状态是关或者开

接下来$n$行每行一个字符串，包含$m$个字符，每个字符是'0'或者'1'

第$\ i\ $行的第$\ j\ $个字符表示第$\ i\ $个开关与第$\ j\ $盏灯的连接状态，1表示连接，0表示无连接 



#### 输出格式

输出两个整数表示最多可以同时亮着的灯的数量以及达到这种数量可能的方案数



#### 样例输入1

```
3 4
0000
1010
0100
0001
```



#### 样例输出1

```
4 1
```





#### 样例输入2

```
3 4
1011
0000
0000
0000
```



#### 样例输出2

```
3 8
```



#### 样例输入3

```
5 5
00000
11000
01100
00110
00011
10001
```



#### 样例输出3

```
4 10
```





#### 数据范围

| 子任务 | $n,m$ | 分值 |
| ------ | ----- | ---- |
|        |       |      |



